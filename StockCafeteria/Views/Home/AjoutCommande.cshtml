
@{
    ViewBag.Title = "Ajouter une commande";
}

<h2>Ajouter une commande</h2>

<body ng-app="app">
    <div ng-controller="commandeController">

        <input type="date" ng-model="testDate" />
        <button ng-click="tstdate(testDate)">ok</button>

        <form>
            <div class="form-group">
                <label for="somme">Somme :</label>
                <input type="number" class="form-control" ng-model="commande.SommeCommande" id="somme" />
            </div>
            <div class="form-group">
                <label for="fournisseur">Fournisseur :</label>
                <select class="form-control" ng-model="commande.IdFournisseur" id="fournisseur">
                    <option ng-repeat="f in fournisseurs" value="{{f.IdFournisseur}}">{{f.Nom}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="date">Date :</label>
                <input type="datetime" id="date" class="form-control" ng-model="commande.dateCommande" />
            </div>
            <div class="form-group">
                <label for="newObjets">Objets dans cette commandes :</label>
                <select class="form-control" id="newObjets" ng-model="newObjets" multiple disabled>
                    <option ng-repeat="no in newObjets" value="">{{no.libTO}} x{{no.Qte}}</option>
                </select>
                <button class="btn btn-danger" ng-click="deleteAllNewObjets()"><span class="glyphicon glyphicon-trash"></span></button>
            </div>
            <button type="submit" class="btn btn-success" ng-click="addCommande(commande,newObjets)">Ok</button>
        </form>
        <h1>Objets à ajouter : </h1>
        <form>
            @*<input type="hidden" ng-model="objet.Id" />*@
            <div class="form-group">
                <label for="libelleObj">Objets : </label>
                <select class="form-control" ng-model="objet.libTO">
                    <option ng-repeat="to in typeObjets">{{to.Libelle}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="qteObj">Quantité : </label>
                <input type="number" class="form-control" ng-model="objet.Qte" />
            </div>
            <button type="submit" class="btn btn-default" ng-click="updateNewObjets()">Ajouter</button>
        </form>

    </div>
</body>